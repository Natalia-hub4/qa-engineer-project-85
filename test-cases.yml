---
- summary: |
    Проверка успешной регистрации на сайте
  requirement: |
    При вводе корректных данных пользователь может зарегистрироваться на сайте
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    Nickname = Lolo Email = user@mail.ru Password = u1234
  steps:
    - клик по кнопке "Sign up"
    - заполнить поле "Nickname"
    - заполнить поле "Email"
    - заполнить поле "Password"
    - заполнить поле "Password Confirmation"
    - нажать кнопку "Submit"
  expected-result: |
    Пользователь попадает на главную страницу сайта, регистрация успешно выполнена

- summary: |
    Проверка регистрации пользователя с помощью Github
  requirement: |
    При наличии аккаунта на Github, пользователь может зарегистрироваться на сайте через систему Github
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    Пользователь имеет аккаунт на Github
  steps:
    - клик по кнопке "Sign up"
    - клик по кнопке "Sign in with Github"
    - клик по кнопке "Submit"
  expected-result: |
    Регистрация с помощью Github выполнена успешно, пользователь попадает на главную страницу сайта

- summary: |
    Проверка регистрации пользователя с помощью Discord
  requirement: |
    При наличии аккаунта на Discord, пользователь может авторизоваться на сайте через систему Discord
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    Пользователь имеет аккаунт на Discord
  steps:
    - клик по кнопке "Sign up"
    - клик по кнопке "Sign in with Discord"
    - клик по кнопке "Submit"
  expected-result: |
    Авторизация с помощью Discord выполнена успешно, пользователь попадает на главную страницу сайта
    
- summary: |
    Проверка авторизации уже существующего пользователя
  requirement: |
    При вводе корректных данных выполняется авторизация существующего пользователя
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь имеет аккаунт на Github
    Пользователь зарегистрирован    
  test-data: |
    Email = user@mail.ru Password = u1234
  steps:
    - клик по кнопке "Sign in"
    - заполнить валидными данными поле "Email"
    - заполнить валидными данными поле "Password"
    - нажать кнопку "Sign in with Github"
  expected-result: |
    Пользователь попадает на главную страницу сайта, авторизация успешно выполнена

- summary: |
    Проверка регистрации пользователя с уже существующими данными
  requirement: |
    При повторной регистрации с уже существующими данными, выводится сообщение об ошибке
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    Nickname = Lolo Email = user@mail.ru Password = u1234
  steps:
    - клик по кнопке "Sign up"
    - заполнить поле "Nickname"
    - заполнить поле "Email"
    - заполнить поле "Password"
    - заполнить поле "Password Confirmation"
    - нажать кнопку "Submit"
  expected-result: |
    Выводится сообщение об ошибке "Ник уже занят", регистрация не выполнена

- summary: |
    Проверка входа пользователя с несуществующими данными электронной почты и пароля
  requirement: |
    При вводе несуществующих данных электронной почты и пароля, пользователь должен увидеть сообщение об ошибке
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
  test-data: |
    Email = Хохо@хохо.ru Password = ???987!!!
  steps:
    - клик по кнопке "Sign in"
    - заполнить невалидными данными поле "Email"
    - заполнить невалидными данными поле "Password"
    - клик по кнопке "Submit"
  expected-result: |
    Поле ввода электронной почты подсвечивается красным, выводится сообщение об ошибке "Неверный адрес электронной почты", регистрация не выполнена

- summary: |
    Проверка возможности внести изменения в своем профиле
  requirement: |
    Пользователь должен иметь возможность вносить изменения в своем профиле
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Your name = Lolo New name = Nunu
  steps:
    - клик по кнопке со своим именем  в правом верхнем углу
    - клик по кнопке "Settings" из появившегося списка
    - удалить прежнее имя из поля "Your name"
    - ввести новое имя в поле "Your name"
    - клик по кнопке "Submit"
  expected-result: |
    Новое имя успешно сохранено в профиле пользователя

- summary: |
    Проверка возможности восстановления пароля на сайте
  requirement: |
    Пользователь должен иметь возможность восстановления пароля на сайте
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь зарегистрирован
  test-data: |
    Nickname = Nunu Email = user@mail.ru New Password = un4321
  steps:
    - клик по кнопке "Sign in"
    - в поле "Email" ввести корректный адрес электронной почты
    - клик по кнопке "Forgot your password?"
    - клик по кнопке "Submit"
    - проверить инструкции по восстановлению пароля в электронной почте
    - перейти по направленной ссылке
    - клик по кнопке "Sign in"
    - заполнить валидными данными поле "Email"
    - заполнить новыми данными поле "Password"
    - клик по кнопке "Submit"
  expected-result: |
    Новый пароль обновлен и сохранен, авторизация выполнена успешно, пользователь попадает на главную страницу сайта

- summary: |
    Проверка возможности начать игру без регистрации на сайте
  requirement: |
    Пользователь имеет возможность сыграть в пробную игру без регистрации на сайте
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь не зарегистрирован
  test-data: |
    -
  steps:
     - клик по кнопке "Try simple battle"
  expected-result: |
    Пользователь попадает на страницу пробной игры    

- summary: |
    Проверка возможности для зарегистрированного пользователя начать игру с ботом
  requirement: |
    Пользователь имеет возможность сыграть с ботом
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Сложность игры = 1 звезда Тип игры = с ботом Контроль времени = 60 минут Задача = случайная задача Тэги = коллекции
  steps:
    - клик по кнопке "Create a game"
    - выбрать Level/уровень сложности игры 
    - выбрать Game Type/тип игры
    - выбрать Time control/контроль времени игры
    - выбрать task by name or tags/задачу по названию или тегам
    - клик по кнопке "Create battle"
  expected-result: |
    Пользователь попадает на страницу игры с ботом

- summary: |
    Проверка возможности для зарегистрированного пользователя создать игру с другом
  requirement: |
    Пользователь имеет возможность создать и сыграть в игру с другом
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    Соперник = user 2 name
  steps:
    - клик по кнопке "Create a game"
    - выбрать Level/уровень сложности игры
    - выбрать Game Type/тип игры с другом
    - выбрать Time control/контроль времени игры
    - выбрать opponent/соперника
    - выбрать Time control/контроль времени игры
    - выбрать task by name or tags/задачу по названию или тегам
    - клик по кнопке "Create an invitation"
  expected-result: |
    Пользователь принимает направленное приглашение в игру

- summary: |
    Проверка возможности выбора языка после создания игры
  requirement: |
    Пользователь имеет возможность выбрать язык после создания игры
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Пользователь вступил в выбранную игру
  test-data: |
    Соперник = user 2 name  
  steps:
    - клик по кнопке выбора языка
    - выбрать нужный для пользователя язык
  expected-result: |
    Пользователь видит текст, переведенный на выбранный язык

- summary: |
    Проверка отображения редактора кода соперника в активной игре
  requirement: |
    Пользователь может видеть код своего соперника в режиме онлайн
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Пользователь вступил в выбранную игру
  test-data: |
    -
  steps:
    - начать вводить код решения задачи
    - проверить редактор с кодом соперника
  expected-result: |
    Пользователь видит на странице игры отображающийся редактор с кодом соперника

- summary: |
   Проверка возможности остановить начатую игру в любой момент
  requirement: |
   Пользователь должен иметь возможность остановить начатую игру в любой момент
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Пользователь вступил в выбранную игру
  test-data: |
    -
  steps:
    - клик по кнопке "Back to Home" в правой части страницы сайта
  expected-result: |
    Игра полностью остановлена, пользователь перенаправляется на главную страницу

- summary: |
    Проверка возможности возобновления остановленной игры
  requirement: |
    Пользователь должен иметь возможность возобновить прерванную игру
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Пользователь вступил в выбранную игру
  test-data: |
    -
  steps:
    - клик по кнопке "Вack to Home" в правой части страницы сайта
    - клик о кнопке "Continue" в правой части страницы сайта
  expected-result: |
    Игра успешно возобновлена, пользователь возвращается на страницу активной игры

- summary: |
    Проверка возможности для пользователя проверить результат введенного кода в ходе игре
  requirement: |
    Пользователь должен иметь возможность проверить результат введенного кода в ходе игры
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Пользователь вступил в выбранную игру
  test-data: |
    -
  steps:
    - ввести код решения в редактор
    - клик по кнопке над редактором "Run"
    - проверить выводы по итогу проверки решения
  expected-result: |
    Пользователь видит результаты проверки своего введенного решения    

- summary: |
    Проверка возможности отправления сообщений другим игрокам
  requirement: |
    Пользователь должен иметь возможность отправлять сообщения в чате другим игрокам
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    -
  steps:
    - в чате в поле ввода набрать любой текст
    - клик по кнопке "Send"
  expected-result: |
    Сообщение успешно отправлено, отображается в открытом чате

- summary: |
    Проверка возможности отправления пустого сообщения другим игрокам
  requirement: |
    Пользователь не должен иметь возможность отправлять пустые сообщения в чате другим игрокам
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    -
  steps:
    - в чате поле ввода оставить незаполненным
    - клик по кнопке "Send"
  expected-result: |
    Сообщение не отправлено   

- summary: |
    Проверка возможности отправить сообщение в игре с другом
  requirement: |
    У пользователя есть возможность переписки с другом во время игры
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Создана игра с другом
  test-data: |
    -
  steps:
    - в чате с другом в поле ввода набрать любой текст
    - клик по кнопке "Send"
  expected-result: |
    Сообщение успешно отправлено, отображается в чате переписки с другом

- summary: |
    Проверка возможности просмотра рейтинга других игроков на сайте
  requirement: |
    Пользователь должен иметь возможность просматривать рейтинг других игроков
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
  test-data: |
    -
  steps:
    - проверить в правой части страницы сайта доску лидеров
    - кликнуть на "Top list"
    - просмотреть полный список рейтинга пользователей/либо найти игрока в поле поиска "Username"
  expected-result: |
    Рейтинг пользователей успешно открыт и просматривается по всем игрокам

- summary: |
    Проверка на определение победителя/проигравшего в битве
  requirement: |
    У пользователя есть возможность видеть итог битвы с выводом победителя и проигравшего 
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Создана игра с другом
  test-data: |
    -
  steps:
    - ввести верный код задачи/сопернику неверный код задачи
    - клик по кнопке "press check solution or press give up"
  expected-result: |
    Пользователь видит в поле победителя битвы отображение кубка и текст "you have won the game!"/в поле проигравшего серый флажок и текст "your opponent has won the game"

- summary: |
    Проверка возможности участия пользователя в турнире
  requirement: |
    Пользователь должен иметь возможность присоединиться и участвовать в турнирах
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Выбран активный турнир
  test-data: |
    -
  steps:
    - кликнуть на кнопку "Tournaments"
    - выбрать в Title активный турнир
    - клик по кнопке "Show"
    - клик по кнопке "Join"
  expected-result: |
    Пользователь присоединился к турниру, имя пользователя отображается в Total players

- summary: |
    Проверка возможности выхода пользователя из турнира
  requirement: |
    Пользователь должен иметь возможность выйти из активного турнира
  prerequisites:
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован
    Выбран активный турнир
  test-data: |
    -
  steps:
    - кликнуть на кнопку "Tournaments"
    - выбрать в Title активный турнир
    - клик по кнопке "Show"
    - клик по кнопке "Join"
    - клик по кнопке "leave"
  expected-result: |
    Пользователь покинул турнир, имя пользователя удалено из Total players
